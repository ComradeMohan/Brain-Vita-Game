(this["webpackJsonpbrain-vita"]=this["webpackJsonpbrain-vita"]||[]).push([[0],{142:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(20),i=a.n(n),o=(a(68),a(21)),c=a(22),l=a(26),b=a(25),u=a(7),d=a(42),p=a.n(d),h=a(5),f=a.n(h),m="MARBLE_PICKED",M="MARBLE_RELEASED",j="MARBLE_DROPPED",v="MARBLE_REMOVED",O="RESET_BOARD",k="SUBMIT_FORM",y="OCCUPIED_WITH_MARBLE",x="MARBLE_PICKED",_="VACANT",g="BLANK_SPACE",S=[[g,g,y,y,y,g,g],[g,g,y,y,y,g,g],[y,y,y,y,y,y,y],[y,y,y,_,y,y,y],[y,y,y,y,y,y,y],[g,g,y,y,y,g,g],[g,g,y,y,y,g,g]],C=a(1),B=function(){return Object(C.jsx)("h1",{className:"text-center",children:"Brain Vita Game"})},L=a.p+"static/media/marble.d643f655.jpg",R=a(3),E=a.n(R),A=function(e){return Object(C.jsxs)(s.a.Fragment,{children:[Object(C.jsx)("h3",{className:"no-margin text-center",children:"Marbles Left"}),Object(C.jsx)("h2",{className:"no-margin text-center",children:e.noOfMarblesLeft}),Object(C.jsx)("p",{className:"text-center",id:E.a.errorMessage,children:e.message}),Object(C.jsxs)("div",{className:E.a.boardContainer,children:[Object(C.jsx)("div",{className:E.a.board,children:e.boardStatus.map((function(t,a){return Object(C.jsx)("div",{className:E.a.row,children:t.map((function(t,s){return Object(C.jsxs)(r.Fragment,{children:[t===g&&Object(C.jsx)("div",{className:E.a.vacant.blank}),t===y&&Object(C.jsx)("img",{src:L,alt:"Marble",className:E.a.marble,onClick:function(){return e.onMarbleClick(a,s)}}),t===x&&Object(C.jsx)("img",{src:L,alt:"Marble",className:"".concat(E.a.marble," ").concat(E.a.picked),onClick:function(){return e.onMarbleClick(a,s)}}),t===_&&Object(C.jsx)("div",{className:E.a.vacant,onClick:function(){return e.onVacantPlaceClick(a,s)}})]},s)}))},a)}))}),Object(C.jsx)("button",{id:E.a.resetButton,onClick:e.onGameRestart,children:"Restart"})]})]})},P=s.a.memo(A),N=a(24),V=a(23),F=a(43),w=a.n(F),D=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={userName:""},e.onFormUpdate=e.onFormUpdate.bind(Object(V.a)(e)),e}return Object(c.a)(a,[{key:"onFormUpdate",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(N.a)({},a,r))}},{key:"onClickSubmit",value:function(){/^[^-\s][a-zA-Z\s]*$/.test(String(this.state.userName))?this.props.submitForm(this.state.userName,this.props.noOfMarblesLeft):alert("ERROR : Please enter user name to submit the score.")}},{key:"render",value:function(){return Object(C.jsxs)("div",{id:w.a.formContainer,children:[Object(C.jsx)("input",{type:"text",placeholder:"User Name",value:this.state.userName,name:"userName",onChange:this.onFormUpdate}),Object(C.jsx)("button",{id:w.a.submitButton,onClick:this.onClickSubmit.bind(this),children:"Submit"})]})}}]),a}(s.a.Component),T=Object(u.b)((function(e){return e.formReducer}),(function(e){return{submitForm:function(t,a){e({type:k,payload:new Promise((function(e,t){setTimeout((function(){alert("SUCCESS: Score with user name is sent to server."),e()}),1e3)}))})}}}))(s.a.memo(D)),I=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).defaultState={noOfMarblesLeft:32,isAnyValidMoveLeft:!0,message:""},e.state=f()(e.defaultState),e}return Object(c.a)(a,[{key:"onMarbleClick",value:function(e,t){this.state.isAnyValidMoveLeft&&(p()(this.props.pickedMarble)?this.props.pickMarble(e,t):this.props.pickedMarble.x===e&&this.props.pickedMarble.y===t?(this.setMessage(),this.props.releasePickedMarble(e,t)):this.setMessage("You have already picked the marble. Select a hole or click on same the marble to release the marble"))}},{key:"onVacantPlaceClick",value:function(e,t){var a=this;if(this.state.isAnyValidMoveLeft)if(p()(this.props.pickedMarble))this.setMessage("Please select the marble first.");else if(this.isValidMove(e,t)){this.setMessage(),this.props.dropMarble(e,t),this.props.removeMarble(this.props.pickedMarble.x,this.props.pickedMarble.y);var r=this.getMiddleMarble(this.props.pickedMarble.x,this.props.pickedMarble.y,e,t);this.props.removeMarble(r.x,r.y).then((function(){a.setState((function(e){return{noOfMarblesLeft:e.noOfMarblesLeft-1}})),a.isAnyValidMoveLeft()||(a.setMessage("GAME OVER !! No Valid Move Left."),a.setState({isAnyValidMoveLeft:!1}))}))}else this.setMessage("Invalid Move")}},{key:"isValidMove",value:function(e,t){var a=this.props.pickedMarble;return(a.x===e||a.y===t)&&(a.x===e?2==Math.abs(a.y-t)&&this.props.boardStatus[a.x][a.y<t?a.y+1:a.y-1]==y:2==Math.abs(a.x-e)&&this.props.boardStatus[a.x<e?a.x+1:a.x-1][a.y]==y)}},{key:"isAnyValidMoveLeft",value:function(){for(var e=!1,t=this.props.boardStatus,a=0;a<t.length;a++){for(var r=0;r<t[a].length;r++)if(this.props.boardStatus[a][r]===_&&(t[a][r+1]===y&&t[a][r+2]===y||t[a][r-1]===y&&t[a][r-2]===y||(t[a+1]&&t[a+1][r])===y&&(t[a+2]&&t[a+2][r])===y||(t[a-1]&&t[a-1][r])===y&&(t[a-2]&&t[a-2][r])===y)){e=!0;break}if(e)break}return e}},{key:"getMiddleMarble",value:function(e,t,a,r){return e===a?{x:e,y:t<r?t+1:t-1}:{x:e<a?e+1:e-1,y:t}}},{key:"setMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({message:e})}},{key:"onGameRestart",value:function(){var e=this;this.props.resetBoard().then((function(){e.setState(f()(e.defaultState))}))}},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(B,{}),Object(C.jsx)(P,{boardStatus:this.props.boardStatus,message:this.state.message,noOfMarblesLeft:this.state.noOfMarblesLeft,onMarbleClick:this.onMarbleClick.bind(this),onVacantPlaceClick:this.onVacantPlaceClick.bind(this),onGameRestart:this.onGameRestart.bind(this)}),Object(C.jsx)(T,{noOfMarblesLeft:this.state.noOfMarblesLeft})]})}}]),a}(s.a.Component),U=Object(u.b)((function(e){return e.appReducer}),(function(e){return{pickMarble:function(t,a){e({type:m,payload:{x:t,y:a}})},releasePickedMarble:function(t,a){e({type:M,payload:{x:t,y:a}})},dropMarble:function(t,a){e({type:j,payload:{x:t,y:a}})},removeMarble:function(t,a){return e({type:v,payload:{x:t,y:a}}),Promise.resolve()},resetBoard:function(t,a){return e({type:O,payload:{x:t,y:a}}),Promise.resolve()}}}))(s.a.memo(I)),G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,143)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),s(e),n(e),i(e)}))},J=a(8),K=a(63),W=a(2),z={boardStatus:f()(S),pickedMarble:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:e.boardStatus[t.payload.x][t.payload.y]=x,e=Object(W.a)(Object(W.a)({},e),{},{pickedMarble:t.payload,boardStatus:f()(e.boardStatus)});break;case M:case j:e.boardStatus[t.payload.x][t.payload.y]=y,e=Object(W.a)(Object(W.a)({},e),{},{pickedMarble:null,boardStatus:f()(e.boardStatus)});break;case v:e.boardStatus[t.payload.x][t.payload.y]=_,e=Object(W.a)(Object(W.a)({},e),{},{pickedMarble:null,boardStatus:f()(e.boardStatus)});break;case O:e=Object(W.a)(Object(W.a)({},e),{},{pickedMarble:null,boardStatus:f()(S)})}return e},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:e=Object(W.a)({},e)}return e},Y=Object(J.d)(Object(J.c)({appReducer:H,formReducer:X}),Object(J.a)(K.a));i.a.render(Object(C.jsx)(s.a.StrictMode,{children:Object(C.jsx)(u.a,{store:Y,children:Object(C.jsx)(U,{})})}),document.getElementById("root")),G()},3:function(e,t,a){e.exports={boardContainer:"Board_boardContainer__1wnPW",board:"Board_board__3vM3T",row:"Board_row__1Tw0u",vacant:"Board_vacant__1DVOa",blank:"Board_blank__3mAvk",marble:"Board_marble__19ihk",picked:"Board_picked__1jvgC",errorMessage:"Board_errorMessage__oVdL5",resetButton:"Board_resetButton__O8P32"}},43:function(e,t,a){e.exports={formContainer:"Form_formContainer__CJ8XC",submitButton:"Form_submitButton__f9jAl"}},68:function(e,t,a){}},[[142,1,2]]]);
//# sourceMappingURL=main.7018bb91.chunk.js.map